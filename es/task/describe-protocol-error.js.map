{"version":3,"sources":["../../src/task/describe-protocol-error.js"],"names":["ProtocolError","describeProtocolError","code","getShortDescription","getFullDescription"],"mappings":";;AAEA;;AAEA,SAASA,aAAT,QAA8B,UAA9B;;AAEA,eAAe,SAASC,qBAAT,CAA+BC,IAA/B,EAA6C;AAC1D,SAAO,IAAIF,aAAJ,CACLE,IADK,EAELC,oBAAoBD,IAApB,CAFK,EAGLE,mBAAmBF,IAAnB,CAHK,CAAP;AAKD;;AAED,SAASC,mBAAT,CAA6BD,IAA7B,EAA2C;AACzC,UAAQA,IAAR;AACE,SAAK,EAAL;AAAS,aAAQ,gBAAR;AACT,SAAK,EAAL;AAAS,aAAQ,iBAAR;AACT,SAAK,EAAL;AAAS,aAAQ,uCAAR;AACT,SAAK,EAAL;AAAS,aAAQ,mBAAR;AACT,SAAK,EAAL;AAAS,aAAQ,iBAAR;AACT,SAAK,EAAL;AAAS,aAAQ,mBAAR;AACT,SAAK,EAAL;AAAS,aAAQ,oBAAR;AACT,SAAK,EAAL;AAAS,aAAQ,SAAR;AACT,SAAK,EAAL;AAAS,aAAQ,UAAR;AACT,SAAK,EAAL;AAAS,aAAQ,uBAAR;AACT,SAAK,EAAL;AAAS,aAAQ,mBAAR;AACT;AAAS,aAAQ,SAAR;AAZX;AAcD;;AAED,SAASE,kBAAT,CAA4BF,IAA5B,EAA0C;AACxC,UAAQA,IAAR;AACE,SAAK,EAAL;AAAS,aAAQ,2RAAR;AACT,SAAK,EAAL;AAAS,aAAQ,yFAAR;AACT,SAAK,EAAL;AAAS,aAAQ,+DAAR;AACT,SAAK,EAAL;AAAS,aAAQ,kGAAR;AACT,SAAK,EAAL;AAAS,aAAQ,8GAAR;AACT,SAAK,EAAL;AAAS,aAAQ,kHAAR;AACT,SAAK,EAAL;AAAS,aAAQ,sGAAR;AACT,SAAK,EAAL;AAAS,aAAQ,mEAAR;AACT,SAAK,EAAL;AAAS,aAAQ,8DAAR;AACT,SAAK,EAAL;AAAS,aAAQ,wHAAR;AACT,SAAK,EAAL;AAAS,aAAQ,mBAAR;AACT;AAAS,aAAQ,eAAR;AAZX;AAcD","file":"describe-protocol-error.js","sourcesContent":["//@flow\n\n/* eslint-disable max-len */\n\nimport { ProtocolError } from '../error'\n\nexport default function describeProtocolError(code: number) {\n  return new ProtocolError(\n    code,\n    getShortDescription(code),\n    getFullDescription(code),\n  )\n}\n\nfunction getShortDescription(code: number) {\n  switch (code) {\n    case 16: return `msg_id too low`\n    case 17: return `msg_id too high`\n    case 18: return `incorrect two lower order msg_id bits`\n    case 19: return `same container id`\n    case 20: return `message too old`\n    case 32: return `msg_seqno too low`\n    case 33: return `msg_seqno too high`\n    case 34: return `odd seq`\n    case 35: return `even seq`\n    case 48: return `incorrect server salt`\n    case 64: return `invalid container`\n    default: return `unknown`\n  }\n}\n\nfunction getFullDescription(code: number) {\n  switch (code) {\n    case 16: return `Most likely, client time is wrong; it would be worthwhile to synchronize it using msg_id notifications and re-send the original message with the “correct” msg_id or wrap it in a container with a new msg_id if the original message had waited too long on the client to be transmitted`\n    case 17: return `The client time has to be synchronized, and the message re-sent with the correct msg_id`\n    case 18: return `the server expects client message msg_id to be divisible by 4`\n    case 19: return `container msg_id is the same as msg_id of a previously received message (this must never happen)`\n    case 20: return `message too old, and it cannot be verified whether the server has received a message with this msg_id or not`\n    case 32: return `the server has already received a message with a lower msg_id but with either a higher or an equal and odd seqno`\n    case 33: return `similarly, there is a message with a higher msg_id but with either a lower or an equal and odd seqno`\n    case 34: return `an even msg_seqno expected (irrelevant message), but odd received`\n    case 35: return `odd msg_seqno expected (relevant message), but even received`\n    case 48: return `In this case, the bad_server_salt response is received with the correct salt, and the message is to be re-sent with it`\n    case 64: return `invalid container`\n    default: return `unknown error`\n  }\n}\n"]}