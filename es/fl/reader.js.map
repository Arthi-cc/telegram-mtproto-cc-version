{"version":3,"sources":["../../src/fl/reader.js"],"names":["ᐸReaderᐳ","constructor","run","chain","f","e","map","ofᐸReaderᐳ","x"],"mappings":"AAEA,MAAMA,QAAN,CAAqB;AAEnBC,cAAYC,GAAZ,EAA8B;AAC5B,SAAKA,GAAL,GAAWA,GAAX;AACD;AACDC,QAAYC,CAAZ,EAAyC;AACvC,WAAO,IAAIJ,QAAJ,CAAcK,CAAD,IAAOD,EAAE,KAAKF,GAAL,CAASG,CAAT,CAAF,EAAeH,GAAf,CAAmBG,CAAnB,CAApB,CAAP;AACD;AACDC,MAAIF,CAAJ,EAAO;AACL,WAAO,IAAIJ,QAAJ,CAAcK,CAAD,IAAOE,WAAWH,EAAE,KAAKF,GAAL,CAASG,CAAT,CAAF,CAAX,EAA2BH,GAA3B,CAA+BG,CAA/B,CAApB,CAAP;AACD;AACD;AACA;AACA;AACA;AACA;AACA;AAhBmB;;AAmBrB,SAASE,UAAT,CAAiCC,CAAjC,EAAuD;AACrD,SAAO,IAAIR,QAAJ,CAAa,MAAC,UAAeQ,CAA7B,CAAP;AACD;;AAED;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"reader.js","sourcesContent":["//@flow\n\nclass ᐸReaderᐳ<I, O> {\n  run: (x: I) => O\n  constructor(run: (x: I) => O) {\n    this.run = run\n  }\n  chain<A, B>(f: (x: O) => ᐸReaderᐳ<A, B>) {\n    return new ᐸReaderᐳ((e) => f(this.run(e)).run(e))\n  }\n  map(f) {\n    return new ᐸReaderᐳ((e) => ofᐸReaderᐳ(f(this.run(e))).run(e))\n  }\n  // ap(a) {\n  //   return new ᐸReaderᐳ((e) => a.map(this.run(e)).run(e))\n  // }\n  // of(a) {\n  //   return new ᐸReaderᐳ((e) => a)\n  // }\n}\n\nfunction ofᐸReaderᐳ<T, /*::+*/I>(x: T): ᐸReaderᐳ<I, T> {\n  return new ᐸReaderᐳ((/*::i: I*/) => x)\n}\n\n// const ofR = (a) => new ᐸReaderᐳ((e) => a)\n\n// const askR = new ᐸReaderᐳ(x => x)\n\n\n// const R = {\n//   of : ofR,\n//   ask: askR,\n// }\n\n// Transformer\n// const ReaderTF = (M: typeof R) => {\n//   class ReaderT extends ᐸReaderᐳ {\n//     run: <T>(x: T) => ᐸReaderᐳ\n//     map(f: *) {\n//       return new ReaderT((e) => this.run(e).chain((a) => this.of(f(a)).run(e)))\n//     }\n//     chain(f: *) {\n//       return new ReaderT((e) => this.run(e).chain((a) => f(a).run(e)))\n//     }\n//     ap(a: *) {\n//       return new ReaderT(\n//         (e) => this.run(e).chain(\n//           (an) => a.map(an).run(e)))\n//     }\n//     constructor(run) {\n//       super(run)\n//     }\n//     of(a) {\n//       return new ReaderT((e) => M.of(a))\n//     }\n//   }\n//   const lift = (m) => new ReaderT((e) => m)\n\n//   const of = (a) => new ReaderT((e) => M.of(a))\n\n//   const ask = new ReaderT((e) => M.of(e))\n\n//   return {\n//     of,\n//     lift,\n//     ask,\n//   }\n// }\n\n\n"]}